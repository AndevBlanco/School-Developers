{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pulgueperro\\\\Desktop\\\\schooldevelopers-app\\\\src\\\\componentes\\\\plantilla\\\\Barra.js\";\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport BarSesion from './bar/BarSesion';\nimport { withStyles } from \"@material-ui/styles\";\nimport { compose } from \"recompose\";\nimport { consumerFirebase } from \"../../server\";\nimport { StateContext } from \"../../sesion/store\";\n\nconst styles = theme => ({\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMovil: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  }\n});\n\nclass ButtonAppBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Firebase: null\n    };\n  }\n\n  componentDidMount() {\n    const {\n      Firebase\n    } = this.state; //local state\n\n    const [{\n      sesion\n    }, dispatch] = this.context; //global state\n\n    if (Firebase.auth.currentUser !== null && !sesion) {\n      Firebase.db.collection(\"Usuarios\").doc(Firebase.auth.currentUser.uid).get().then(doc => {\n        const usuarioDB = doc.data();\n        dispatch({\n          type: \"INICIAR_SESION\",\n          sesion: usuarioDB,\n          autenticado: true\n        });\n      });\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let nuevosObjetos = {};\n\n    if (nextProps.Firebase !== prevState.Firebase) {\n      nuevosObjetos.Firebase = nextProps.Firebase;\n    }\n\n    return nuevosObjetos;\n  }\n\n  render() {\n    const [{\n      sesion\n    }, dispatch] = this.context;\n    return sesion ? sesion.autenticado ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"static\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(BarSesion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }))) : null : null;\n  }\n\n}\n\nButtonAppBar.contextType = StateContext;\nexport default compose(withStyles(styles), consumerFirebase)(ButtonAppBar);","map":{"version":3,"sources":["C:/Users/pulgueperro/Desktop/schooldevelopers-app/src/componentes/plantilla/Barra.js"],"names":["React","AppBar","BarSesion","withStyles","compose","consumerFirebase","StateContext","styles","theme","sectionDesktop","display","breakpoints","up","sectionMovil","ButtonAppBar","Component","state","Firebase","componentDidMount","sesion","dispatch","context","auth","currentUser","db","collection","doc","uid","get","then","usuarioDB","data","type","autenticado","getDerivedStateFromProps","nextProps","prevState","nuevosObjetos","render","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,gBAAT,QAAiC,cAAjC;AACA,SAASC,YAAT,QAA6B,oBAA7B;;AACA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,cAAc,EAAE;AACdC,IAAAA,OAAO,EAAE,MADK;AAEd,KAACF,KAAK,CAACG,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BF,MAAAA,OAAO,EAAE;AADmB;AAFhB,GADO;AAOvBG,EAAAA,YAAY,EAAE;AACZH,IAAAA,OAAO,EAAE,MADG;AAEZ,KAACF,KAAK,CAACG,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BF,MAAAA,OAAO,EAAE;AADmB;AAFlB;AAPS,CAAL,CAApB;;AAgBA,MAAMI,YAAN,SAA2Bd,KAAK,CAACe,SAAjC,CAA2C;AAAA;AAAA;AAAA,SAGzCC,KAHyC,GAGjC;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAHiC;AAAA;;AAMzCC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAED,MAAAA;AAAF,QAAe,KAAKD,KAA1B,CADkB,CACe;;AACjC,UAAM,CAAC;AAAEG,MAAAA;AAAF,KAAD,EAAaC,QAAb,IAAyB,KAAKC,OAApC,CAFkB,CAE0B;;AAC5C,QAAIJ,QAAQ,CAACK,IAAT,CAAcC,WAAd,KAA8B,IAA9B,IAAsC,CAACJ,MAA3C,EAAmD;AACjDF,MAAAA,QAAQ,CAACO,EAAT,CACGC,UADH,CACc,UADd,EAEGC,GAFH,CAEOT,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BI,GAFjC,EAGGC,GAHH,GAIGC,IAJH,CAIQH,GAAG,IAAI;AACX,cAAMI,SAAS,GAAGJ,GAAG,CAACK,IAAJ,EAAlB;AACAX,QAAAA,QAAQ,CAAC;AACPY,UAAAA,IAAI,EAAE,gBADC;AAEPb,UAAAA,MAAM,EAAEW,SAFD;AAGPG,UAAAA,WAAW,EAAE;AAHN,SAAD,CAAR;AAKD,OAXH;AAYD;AACF;;AACD,SAAOC,wBAAP,CAAgCC,SAAhC,EAA2CC,SAA3C,EAAsD;AACpD,QAAIC,aAAa,GAAG,EAApB;;AACA,QAAIF,SAAS,CAAClB,QAAV,KAAuBmB,SAAS,CAACnB,QAArC,EAA+C;AAC7CoB,MAAAA,aAAa,CAACpB,QAAd,GAAyBkB,SAAS,CAAClB,QAAnC;AACD;;AACD,WAAOoB,aAAP;AACD;;AACDC,EAAAA,MAAM,GAAG;AACP,UAAM,CAAC;AAAEnB,MAAAA;AAAF,KAAD,EAAYC,QAAZ,IAAyB,KAAKC,OAApC;AAEA,WAAOF,MAAM,GAAIA,MAAM,CAACc,WAAP,gBACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAA0B,MAAA,KAAK,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADe,GAOb,IAPS,GAST,IATJ;AAUD;;AA5CwC;;AAArCnB,Y,CACGyB,W,GAAcjC,Y;AA6CvB,eAAeF,OAAO,CAACD,UAAU,CAACI,MAAD,CAAX,EAAqBF,gBAArB,CAAP,CAA8CS,YAA9C,CAAf","sourcesContent":["import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport BarSesion from './bar/BarSesion';\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport { compose } from \"recompose\";\r\nimport { consumerFirebase } from \"../../server\";\r\nimport { StateContext } from \"../../sesion/store\";\r\nconst styles = theme => ({\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\"\r\n    }\r\n  },\r\n  sectionMovil: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\"\r\n    }\r\n  }\r\n\r\n})\r\n\r\nclass ButtonAppBar extends React.Component {\r\n  static contextType = StateContext;\r\n\r\n  state = {\r\n    Firebase: null\r\n  }\r\n  componentDidMount() {\r\n    const { Firebase } = this.state; //local state\r\n    const [{ sesion }, dispatch] = this.context;//global state\r\n    if (Firebase.auth.currentUser !== null && !sesion) {\r\n      Firebase.db\r\n        .collection(\"Usuarios\")\r\n        .doc(Firebase.auth.currentUser.uid)\r\n        .get()\r\n        .then(doc => {\r\n          const usuarioDB = doc.data();\r\n          dispatch({\r\n            type: \"INICIAR_SESION\",\r\n            sesion: usuarioDB,\r\n            autenticado: true\r\n          })\r\n        })\r\n    }\r\n  }\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    let nuevosObjetos = {};\r\n    if (nextProps.Firebase !== prevState.Firebase) {\r\n      nuevosObjetos.Firebase = nextProps.Firebase\r\n    }\r\n    return nuevosObjetos;\r\n  }\r\n  render() {\r\n    const [{ sesion },dispatch]  = this.context;\r\n\r\n    return sesion ? (sesion.autenticado ? (\r\n      <div>\r\n        <AppBar position=\"static\" color=\"primary\">\r\n          <BarSesion></BarSesion>\r\n        </AppBar>\r\n      </div>\r\n    )\r\n      : null\r\n    )\r\n      : null\r\n  }\r\n}\r\nexport default compose(withStyles(styles), consumerFirebase)(ButtonAppBar);\r\n"]},"metadata":{},"sourceType":"module"}